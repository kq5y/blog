---
import { categoryToStr, type Article } from "@/lib/article";

export interface Props {
  title: string;
  articles: Article[];
}

const { title, articles } = Astro.props;
---

<div class="mainContainer">
  <h1>{title}</h1>
  <div class="articles">
    {articles.length === 0 && <p>記事がありません</p>}
    {
      articles.map((article) => (
        <article>
          <a href={article.path}>{article.title}</a>
          <div>
            <div class="articleDate">{article.date}</div>
            <div class="articleTags">
              <span>{categoryToStr(article.category)}</span>
              {article.tags.map((tag) => (
                <span>{tag}</span>
              ))}
            </div>
          </div>
        </article>
      ))
    }
  </div>
</div>

<style>
  div.mainContainer {
    padding: 0.5rem 2rem;
  }
  h1 {
    margin-block: 0.5rem;
    font-size: 1.875rem;
    line-height: 2.25rem;
    font-weight: 700;
  }
  div.articles {
    margin-block: 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    font-size: 0.875rem;
    line-height: 1.25rem;

    a {
      font-size: 1rem;
      line-height: 1.5rem;
      font-weight: 700;
    }

    div.articleDate {
      --tw-text-opacity: 1;
      color: rgb(115 115 115 / var(--tw-text-opacity));
      margin-bottom: 0.125rem;
    }

    div.articleTags {
      display: flex;
      flex-direction: row;
      gap: 0.5rem;

      span {
        --tw-bg-opacity: 1;
        background-color: rgb(38 38 38 / var(--tw-bg-opacity));
        --tw-text-opacity: 1;
        color: rgb(163 163 163 / var(--tw-text-opacity));
        border-radius: 0.25rem;
        padding: 0.125rem 0.375rem;
        font-size: 0.75rem;
        line-height: 1rem;
      }
    }
  }
</style>
